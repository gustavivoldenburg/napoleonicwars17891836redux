focus_tree = {
	id = vendee_focus

	country = {
		factor = 0
		modifier = {
			add = 100
			tag = VND
		}
	}


    continuous_focus_position = { x = 3500 y = 3000 }

    focus = {
        id = VND_counter_revolution
        icon = GFX_goal_vive_king
        x = 10
        y = 0
        cost = 3
        ai_will_do = { factor = 1 }
        completion_reward = {
            set_country_flag = VND_counter_revolution_started
            country_event = { id = vendee.1 days = 1 }   
            add_political_power = 50
            add_stability = 0.05
        }
    }

    # ===========================
    # Branch A: With the Federalists
    # ===========================
    focus = {
        id = VND_federalist_overture
        icon = GFX_goal_support_democracy
        prerequisite = { focus = VND_counter_revolution }
        mutually_exclusive = { focus = VND_royalist_purity }
        x = 7
        y = 1
        cost = 3
        available =  { has_country_flag = vendee_federalist_alliance } 
        completion_reward = {
            set_country_flag = VND_federalist_path
            add_stability = 0.05
            add_war_support = -0.02
            add_political_power = 50
            add_ideas = VND_federalist_contacts_idea
        }
    }

    focus = {
        id = VND_constitutional_monarchy
        icon = GFX_focus_spr_torchbearers_of_tomorrow
        prerequisite = { focus = VND_federalist_overture }
        x = 7
        y = 2
        cost = 3
		available =  { has_country_flag = vendee_federalist_alliance } 
        completion_reward = {
            set_rule = { can_force_government = yes }
            set_country_flag = VND_constitutional_monarchy_intent
            add_ideas = VND_compromise_charter_idea
            add_stability = 0.05
        }
    }

    focus = {
        id = VND_pardon_lafayette
        icon = GFX_goal_generic_political_pressure
        prerequisite = { focus = VND_constitutional_monarchy }
        x = 7
        y = 3
        cost = 3
        completion_reward = {
            country_event = { id = vendee.100 days = 1 }  # “Pardon Lafayette?” dialog
        }
    }
	
	focus = {
        id = VND_federalist_rebel
        icon = GFX_federalist_rebel
        prerequisite = { 
		    focus = VND_constitutional_monarchy
		}
		bypass = { has_global_flag = french_surrender_done }
        x = 5
        y = 3
        cost = 3
        completion_reward = {
            load_oob =  VND_Inf_02
			VND={
		        transfer_state = 22
		        transfer_state = 21
		    }
			country_event = { id = vendee.5 days = 1 }
        }
    }

    focus = {
        id = VND_fate_of_jacobins
        icon = GFX_goal_continuous_restrict_freedom
        prerequisite = { focus = VND_pardon_lafayette }
        x = 7
        y = 4
        cost = 6
        available = { has_global_flag = french_surrender_done }
        completion_reward = {
            country_event = { id = vendee.110 days = 1 }      # “Fate of the Jacobins”
        }
    }
	focus = {
        id = VND_moderate_shank_hand
        icon = GFX_SOV_bring_old_trotskyists_back_ccp_2d_sov_compatibility
        prerequisite = { 
		    focus = VND_federalist_rebel
			focus = VND_pardon_lafayette
		}
        x = 5
        y = 4
        cost = 6
        available = { has_global_flag = french_surrender_done }
        completion_reward = {
            country_event = { id = vendee.6 days = 1 }      # “Fate of the Jacobins”
        }
    }

    # ===========================
    # Branch B: On our own (Restore the Ancien Régime)
    # ===========================
    focus = {
        id = VND_royalist_purity
        icon = GFX_focus_generic_strike_at_democracy2
        prerequisite = { focus = VND_counter_revolution }
		available =  { has_country_flag = VND_royalist_path } 
        mutually_exclusive = { focus = VND_federalist_overture }
        x = 13
        y = 1
        cost = 3
        completion_reward = {
            add_ideas = VND_clerical_support_idea
            add_stability = 0.05
            add_political_power = 50
        }
    }

    focus = {
        id = VND_restore_ancient_regime
        icon = GFX_SOV_demand_eastern_poland_ccp_2d_sov_compatibility
        prerequisite = { focus = VND_royalist_purity }
        x = 13
        y = 2
        cost = 3
        completion_reward = {
            set_rule = { can_force_government = yes }
            set_country_flag = VND_ancient_regime_restoration
            add_stability = 0.05
            add_war_support = 0.03
        }
    }

    focus = {
        id = VND_try_lafayette
        icon = GFX_goal_generic_demand_territory
        prerequisite = { focus = VND_restore_ancient_regime }
        x = 13
        y = 3
        cost = 3
        completion_reward = {
            country_event = { id = vendee.200 days = 1 }  # “Trial of Lafayette”
        }
    }
	focus = {
        id = VND_return_church_lands
        icon = GFX_goal_generic_construct_civ_factory
        prerequisite = { focus = VND_restore_ancient_regime }
        x = 15
        y = 3
        cost = 4
        completion_reward = {
            add_political_power = 40
			add_resource = { type = steel amount = 20 state = 960 }
			960 = {
                add_extra_state_shared_building_slots = 3
                add_building_construction = {
                    type = industrial_complex
                    level = 3
                    instant_build = yes
                }
            }
        }
	}	

    focus = {
        id = VND_fate_of_national_assembly
        icon = GFX_focus_eng_move_to_secure_the_dominions
        prerequisite = { 
		    focus = VND_try_lafayette
			focus = VND_return_church_lands
        }
        x = 13
        y = 4
        cost = 6
        available = { has_global_flag = french_surrender_done }
        completion_reward = {
            country_event = { id = vendee.210 days = 1 }  # “Fate of the National Assembly”
        }
    }
	focus = {
        id = VND_fate_of_federalist
        icon = GFX_SOV_japanese_overtures_ccp_2d_sov_compatibility
        prerequisite = { 
		    focus = VND_try_lafayette
			focus = VND_return_church_lands
        }
        x = 15
        y = 4
        cost = 6
        available = { has_global_flag = french_surrender_done }
        completion_reward = {
            country_event = { id = vendee.7 days = 1 }  # “Fate of the Federalist”
        }
    }
	
	# ===========================
    # Military Branch civil war path
    # ===========================
    focus = {
        id = VND_raise_vendee_army
        icon = GFX_focus_generic_full_social_mobilization
        prerequisite = { focus = VND_counter_revolution }
		bypass = { has_global_flag = french_surrender_done }
        x = 10
        y = 2
        cost = 5
        ai_will_do = { factor = 1 }
        completion_reward = {
            add_ideas = VND_vendee_maquis_idea
            add_army_experience = 10
            add_war_support = 0.03
			random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
            }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
            }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
            }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
            }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
            }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }

        # MIL x5
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = arms_factory size > 0 include_locked = yes }
            }
            add_building_construction = { type = arms_factory level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = arms_factory size > 0 include_locked = yes }
            }
            add_building_construction = { type = arms_factory level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = arms_factory size > 0 include_locked = yes }
            }
            add_building_construction = { type = arms_factory level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = arms_factory size > 0 include_locked = yes }
            }
            add_building_construction = { type = arms_factory level = 1 instant_build = yes }
        }
        random_owned_controlled_state = {
            limit = {
                is_fully_controlled_by = ROOT
                free_building_slots = { building = arms_factory size > 0 include_locked = yes }
            }
            add_building_construction = { type = arms_factory level = 1 instant_build = yes }
        }
    
        }
    }

    focus = {
        id = VND_royal_women_at_arms
        icon = GFX_focus_generic_women_in_military
        prerequisite = { focus = VND_raise_vendee_army }
		bypass = { has_global_flag = french_surrender_done }
        x = 9
        y = 3
        cost = 5
        ai_will_do = { factor = 1 }
        completion_reward = {
            add_ideas = VND_women_royal_warriors_idea
            add_stability = -0.08
			set_country_flag = vendee_women
        }
    }

    # Ask the First Coalition for help (fires request event; donors may accept or refuse)
    focus = {
        id = VND_call_first_coalition
        icon = GFX_goal_help_coalition
        prerequisite = { focus = VND_raise_vendee_army }
		bypass = { has_global_flag = french_surrender_done }
        x = 11
        y = 3
        cost = 6
        ai_will_do = { factor = 1 }
        completion_reward = {
            set_country_flag = VND_called_first_coalition
            country_event = { id = vendee.300 days = 1 }
        }
    }
	
	focus = {
        id = VND_greenvill
        icon = GFX_focus_generic_atlantic_coast
        prerequisite = { focus = VND_call_first_coalition }
		available = { has_country_flag = VND_royalist_path }
		bypass = { has_global_flag = french_surrender_done }
        x = 11
        y = 4
        cost = 5
        completion_reward = {
            load_oob = VND_Inf_01_1
        }
    }
	focus = {
        id = VND_rural_warfare
        icon = GFX_goal_generic_army_artillery2
        prerequisite = { focus =VND_royal_women_at_arms }
		bypass = { has_global_flag = french_surrender_done }
        x = 9
        y = 4
        cost = 4
        completion_reward = {
            add_ideas = VND_rural_warfare_idea
        }
    }
	# ===========================
    # POST-CIVIL WAR Branch
    # ===========================
	focus = {
        id = VND_what_next
        icon = GFX_goal_unknown
        prerequisite = { 
		        focus = VND_moderate_shank_hand
				focus = VND_fate_of_jacobins 
		        focus = VND_fate_of_national_assembly
				focus = VND_fate_of_federalist
		}
        x = 10
        y = 5
        cost = 3
        completion_reward = {
		 country_event = { id = vendee.8 days = 1 }
        }
    }
	focus = {
        id = VND_federalist_promise
        icon = GFX_goal_federalist_wait
		available =  { 
            always = no
		}
        prerequisite = { 
		        focus = VND_what_next
		}
        x = 7
        y = 6
        cost = 10
        completion_reward = {
		    custom_effect_tooltip = VND_federalist_promise_tt	
        }
    }
	focus = {
        id = VND_increase_autonomy
        icon = GFX_SOV_offer_autonomy_to_former_soviet_republics_ccp_2d_sov_compatibility
		available =  { 
            always = yes
		}
        prerequisite = { 
		        focus = VND_federalist_promise
		}
        x = 6
        y = 7
        cost = 6
        completion_reward = {
		    add_days_mission_timeout  = { mission = federalist_patience_mission days = 30 }	
        }
    }
	focus = {
        id = VND_question_of_department
        icon = GFX_SOV_offer_autonomy_to_former_soviet_republics_ccp_2d_sov_compatibility
		available =  { 
            always = yes
		}
        prerequisite = { 
		        focus = VND_federalist_promise
		}
        x = 8
        y = 7
        cost = 6
        completion_reward = {
		    country_event = { id = vendee.12 days = 1 }	
        }
    }
	# ===========================
    # Lafayette path
    # ===========================

    focus = {
        id = VND_lafayette_path
        icon = GFX_goal_lafayette_path1
        prerequisite = { focus = VND_what_next }
        x = 2
        y = 6
        cost = 8
        available = { 
		    has_country_flag = next_focus
			has_country_flag = lafayette_path
		}
		completion_reward = {
		 set_politics = { ruling_party = democratic } 
		 country_event = { id = vendee.9 days = 1 }
		 add_ideas = { VND_louis_xvii_idea }
		 swap_ideas = { remove_idea = political_collapse_stage_10 add_idea = political_collapse_stage_9 }
        }
    }
	focus = {
        id = VND_national_guard
        icon = GFX_SOV_depoliticize_the_military_ccp_2d_sov_compatibility
        prerequisite = { focus = VND_lafayette_path }
        x = 4
        y = 7
        cost = 6
		completion_reward = {
		 swap_ideas = { remove_idea = army_collapse_stage_10 add_idea = army_collapse_stage_9 }
        }
    }
	focus = {
        id = VND_elect_soldier
        icon = GFX_SOV_an_adaptable_army_ccp_2d_sov_compatibility
        prerequisite = { focus = VND_lafayette_path }
        x = 4
        y = 8
        cost = 8
		completion_reward = {
		 swap_ideas = { remove_idea = army_collapse_stage_9 add_idea = army_collapse_stage_8 }
        }
    }
	focus = {
        id = VND_citizen_soldier
        icon = GFX_focus_SOV_builder_of_the_red_army
        prerequisite = { focus = VND_elect_soldier }
        x = 5
        y = 9
        cost = 8
		completion_reward = {
		 swap_ideas = { remove_idea = army_collapse_stage_8 add_idea = army_collapse_stage_7 }
        }
    }
	focus = {
        id = VND_fete_lafayette
        icon = GFX_goal_fete_lafayette
        prerequisite = { focus = VND_lafayette_path }
        x = 2
        y = 7
        cost = 10
		completion_reward = {
		 country_event = { id = vendee.11 days = 1 }
        }
    }
	focus = {
        id = VND_modernize_divorce
        icon = GFX_goal_modernize_divorce
        prerequisite = { focus = VND_fete_lafayette }
        x = 2
        y = 8
        cost = 7
		completion_reward = {
		 swap_ideas = { remove_idea = political_collapse_stage_8 add_idea = political_collapse_stage_7 }
        }
    }
	focus = {
        id = VND_expand_voting_right
        icon = GFX_focus_usa_voter_registration_act
		mutually_exclusive = { focus = VND_girl_education }
        prerequisite = { focus = VND_modernize_divorce }
        x = 1
        y = 9
        cost = 7
		completion_reward = {
		 swap_ideas = { remove_idea = political_collapse_stage_7 add_idea = political_collapse_stage_6 }
        }
    }
	focus = {
        id = VND_girl_education
        icon = GFX_focus_AFG_education_reform
		mutually_exclusive = { focus = VND_expand_voting_right }
        prerequisite = { focus = VND_modernize_divorce }
        x = 3
        y = 9
        cost = 7
		completion_reward = {
		 swap_ideas = { remove_idea = political_collapse_stage_7 add_idea = political_collapse_stage_6 }
		 custom_effect_tooltip = girl_get_school
        }
    }
	focus = {
        id = VND_army_acedemy_girl
        icon = GFX_focus_SOV_women_in_aviation
        prerequisite = { focus = VND_lafayette_path }
		available =  { 
            has_country_flag = VND_women_soldier
		}
        x = 0
        y = 8
        cost = 5
		completion_reward = {
		 swap_ideas = { remove_idea = VND_women_royal_warriors_idea add_idea = VND_women_royal_warriors_idea_2 }
        }
    }
	focus = {
        id = VND_equal_tax
        icon = GFX_focus_RAJ_war_taxes
        prerequisite = { focus = VND_lafayette_path }
        x = -1
        y = 7
        cost = 8
		completion_reward = {
		 swap_ideas = { remove_idea = econ_crisis_stage_10 add_idea = econ_crisis_stage_9 }
        }
    }
	focus = {
        id = VND_local_council
        icon = GFX_goal_local_council
        prerequisite = { focus = VND_equal_tax }
        x = -2
        y = 8
        cost = 8
		completion_reward = {
		if = {
            limit = { has_active_mission = federalist_patience_mission }
			add_days_mission_timeout  = { mission = federalist_patience_mission days = 65 }
        }				
		 swap_ideas = { remove_idea = econ_crisis_stage_9 add_idea = econ_crisis_stage_8 }
        }
    }
	focus = {
        id = VND_national_market
        icon = GFX_goal_fete_lafayette
        prerequisite = { 
		    focus = VND_equal_tax      
	    }
		prerequisite = { 
			focus = VND_local_council      
	    }
        x = -1
        y = 9
        cost = 8
		completion_reward = {
		    swap_ideas = { remove_idea = econ_crisis_stage_8 add_idea = econ_crisis_stage_7 }
	    }	
    }
}
